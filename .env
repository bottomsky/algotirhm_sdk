# Service Registry Configuration
# Consul 服务注册地址，如果未设置则默认为 http://127.0.0.1:8500
SERVICE_REGISTRY_HOST=http://127.0.0.1:8500

# 是否启用服务注册
SERVICE_REGISTRY_ENABLED=true

# 是否启用注册中心 Session 绑定（KV 自动清理）
SERVICE_REGISTRY_SESSION_ENABLED=true
SERVICE_REGISTRY_SESSION_TTL_S=30
SERVICE_REGISTRY_SESSION_RENEW_S=10

# 服务名称
SERVICE_NAME=algo-service

# 服务版本
SERVICE_VERSION=v1

# 服务实例 ID（可选，默认使用 name+host+port+protocol 作为稳定 ID）
# SERVICE_INSTANCE_ID=algo-core-service-1
# 多实例扩容时由启动脚本动态设置 SERVICE_INSTANCE_ID

# 服务对外 Host（用于健康检查、注册、对外访问）
SERVICE_HOST=192.168.1.23
# 服务协议（用于健康检查、对外访问）
SERVICE_PROTOCOL=http
# 服务监听 Host（uvicorn 绑定地址）
SERVICE_BIND_HOST=0.0.0.0
# 服务注册服务端口（默认 8000）
SERVICE_PORT=8000


# 健康检查间隔（秒）
HEALTH_CHECK_INTERVAL=10

# 健康检查超时（秒）
HEALTH_CHECK_TIMEOUT=5

# Algorithm Modules to load (comma separated)
ALGO_MODULES=algo_core_service.algorithms

# 服务环境配置（可选，优先级高于默认 .env）
# SERVICE_ENV_PATH=

# Executor Configuration
EXECUTOR_GLOBAL_MAX_WORKERS=10
EXECUTOR_GLOBAL_QUEUE_SIZE=100
EXECUTOR_DEFAULT_TIMEOUT_S=60
EXECUTOR_KILL_TREE=true
EXECUTOR_KILL_GRACE_S=5

# Swagger UI Configuration
SERVICE_SWAGGER_ENABLED=true
# Optional: override Swagger UI path (default /docs)
# SERVICE_SWAGGER_PATH=/docs
SERVICE_ADMIN_ENABLED=false

# CORS Configuration
CORS_ENABLED=true
CORS_ALLOW_ORIGINS=*
# CORS_ALLOW_ORIGIN_REGEX=
CORS_ALLOW_METHODS=*
CORS_ALLOW_HEADERS=*
CORS_ALLOW_CREDENTIALS=false

# Logging Configuration
LOG_LEVEL=INFO
LOG_ERROR_DIR=logs/error
LOG_PAYLOAD_DIR=logs/payload
LOG_GENERAL_ENABLED=false
LOG_GENERAL_DIR=logs/general
LOG_ROTATE_WHEN=midnight
LOG_BACKUP_COUNT=14
LOG_CONSOLE_ENABLED=true

# Python Path Configuration
PYTHONPATH=src
